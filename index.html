<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Eu te amo há…</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- efeitos de fundo -->
  <div class="hearts"></div>
  <div class="balloons"></div>
  <div class="confetti"></div>
  <div class="fireworks"></div>

  <div class="container">
    <!-- Embed Spotify -->
    <iframe
      style="border-radius:12px; overflow:hidden; border:none;"
      src="https://open.spotify.com/embed/track/1DLKuppSYytOuxhtI6KBGu?utm_source=generator&theme=0"
      width="100%"
      height="152"
      frameborder="0"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy">
    </iframe>

    <!-- Foto do casal -->
    <div class="photo">
      <img src="foto1.jpeg" alt="Nós dois">
    </div>

    <h1>❤️ Eu te amo há:</h1>
    <div id="timer">
      <span id="years">0</span> anos,
      <span id="days">0</span> dias,
      <span id="hours">0</span> horas,
      <span id="minutes">0</span> minutos e
      <span id="seconds">0</span> segundos
    </div>
  </div>

  <script>
    // ======= Explosão a cada carregamento =======
    document.addEventListener('DOMContentLoaded', initialBurst);
  
    function initialBurst() {
      const cx = window.innerWidth / 2;
      const cy = window.innerHeight / 2;
      // Confetes no centro
      for (let i = 0; i < 20; i++) {
        setTimeout(() => createConfetti(cx, cy), i * 100);
      }
      // Fogos em posições aleatórias
      for (let i = 0; i < 5; i++) {
        setTimeout(createFireworksBurst, i * 700);
      }
    }
  
    // ====== TIMER ======
    const startDate = new Date(2021, 4, 10, 15, 30, 0);
    function updateTimer() {
      let diff = Date.now() - startDate;
      const years   = Math.floor(diff/(365.25*24*3600*1000)); diff -= years*365.25*24*3600*1000;
      const days    = Math.floor(diff/(24*3600*1000));        diff -= days *24*3600*1000;
      const hours   = Math.floor(diff/(3600*1000));            diff -= hours*3600*1000;
      const minutes = Math.floor(diff/(60*1000));              diff -= minutes*60*1000;
      const seconds = Math.floor(diff/1000);
      document.getElementById('years').textContent   = years;
      document.getElementById('days').textContent    = days;
      document.getElementById('hours').textContent   = hours;
      document.getElementById('minutes').textContent = minutes;
      document.getElementById('seconds').textContent = seconds;
    }
    updateTimer();
    setInterval(updateTimer, 1000);
  
    // ====== CORAÇÕES ======
    function createHeart() {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (3 + Math.random()*2) + 's';
      document.querySelector('.hearts').appendChild(heart);
      setTimeout(() => heart.remove(), 5000);
    }
    setInterval(createHeart, 300);
  
    // ====== BALÕES ======
    function createBalloon() {
      const b = document.createElement('div');
      b.className = 'balloon';
      b.style.left = (10 + Math.random()*80) + 'vw';
      b.style.animationDuration = (5 + Math.random()*5) + 's';
      document.querySelector('.balloons').appendChild(b);
      setTimeout(() => b.remove(), 10000);
    }
    for (let i = 0; i < 20; i++) {
      setTimeout(createBalloon, i * 500);
    }
  
    // ====== CONFETE AO CLIQUE ======
    function createConfetti(x, y) {
      const colors = ['#e74c3c','#f1c40f','#2ecc71','#3498db','#9b59b6'];
      for (let i = 0; i < 30; i++) {
        const piece = document.createElement('div');
        piece.className = 'confetti-piece';
        piece.style.background = colors[Math.floor(Math.random()*colors.length)];
        piece.style.left = x + (Math.random()*100 - 50) + 'px';
        piece.style.top  = y + (Math.random()*100 - 50) + 'px';
        piece.style.animationDuration = (2 + Math.random()) + 's';
        document.querySelector('.confetti').appendChild(piece);
        setTimeout(() => piece.remove(), 3000);
      }
    }
    document.body.addEventListener('click', e => {
      createConfetti(e.clientX, e.clientY);
    });
  
    // ====== FOGOS ======
    function createFireworksBurst() {
      const count = 20;
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight * 0.4 + (window.innerHeight * 0.1);
      const colors = ['#fffa65','#ff3864','#32ff7e','#7efff5','#ff7eb9'];
      for (let i = 0; i < count; i++) {
        const piece = document.createElement('div');
        piece.className = 'firework-piece';
        const angle = Math.random() * 360 + 'deg';
        const dist  = 80 + Math.random() * 80 + 'px';
        piece.style.setProperty('--angle', angle);
        piece.style.setProperty('--distance', dist);
        piece.style.left = x + 'px';
        piece.style.top  = y + 'px';
        piece.style.background = colors[Math.floor(Math.random()*colors.length)];
        document.querySelector('.fireworks').appendChild(piece);
        setTimeout(() => piece.remove(), 1000);
      }
    }
  </script>
  
</body>
</html>
